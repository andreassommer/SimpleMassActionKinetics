# SimpleMassActionKinetics
Matlab/Octave toolkit to generate ODEs from chemical reactions using mass action kinetics

This little tool generates right hand side functions for `Matlab`, `Octave`, `Fortran`, and `Common Lisp` (with infix notation)
from chemical reaction equations (isothermal). 
It's a quite ancient piece of code originating from early years of my thesis.

Chemical reactions of form

```  A + B --> C  ```

are translated into ODE system using mass action kinetics

```
A' = -k1 * A * B
B' = -k1 * A * B
C' = +k1 * A * B
```

See example file gmcsf_shp2_example.txt 


## Short notes on usage:

`!` is a comment sign; everything right of it is ignored

`$MODEL` specifies the model name (used in code commentary)

`$SPECIES` defines reactants in the specified order (one per line)
If not specified, they are autogenerated from the chemical reaction equations in the order of appearance.
Species names should start with a letter.

`$PARAMETER` defines strings that are incorporated in the rhs function argument list

`$REACTION` defines the chemical (one-way) reactions in the following scheme:

```
$REACTION  <reactionname> : <ratekonstant> : <modifier> : <chemreaction>

<reactionname>   is a string comment that textually describes the reaction
<rateconstant>   as the name suggests, is the name of the rate constant to be used
<modifier>       modification string that is copied before every rateconstant without otherwise effects
<checmreaction>  chemical reaction of the form   2 * H2 + O2  ==>  2 * H2O
```

*See example file gmcsf_shp2_example.txt*


## Reading model file and writing code

Model description files are read using `readModelFromFile`:

```
model = readModelFromFile('gmcsf_shp2_example.txt')
```

This model can be modified, e.g. using the `addDelay` tool.

Writing code from the model:

```
writeCodeFromModel("MATLAB", model, "test.m", 1)
```

1st argument is the output type (here: Matlab ODE)  
2nd argument specifies the model variable  
3rd argument is the output file name  
4th argument the base (counting starting from 0 or 1)

See `help writeCodeFromModel` for further explanation.

